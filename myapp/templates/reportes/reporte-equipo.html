{% extends "layouts/main.html" %}

{% block content %}

    <div class="container-fluid" id="reporte-equipo">
      <div :class="{loading:loading}"></div>

<!--      <div :class="{loading:loading}">.</div>-->

      <!-- Plantillas de Equipo -->
      <div class="row">
        <div class="col-md-7">
          <div class="card">
            <div class="card-header card-header-primary">
              <h4 class="card-title "> Equipos </h4>
              <p class="card-category"> Apartado de reportes </p>
            </div>
            <div class="card-header">
              <form action="">
                <div class="form-group">
                  <input class="form-control" placeholder="Busqueda ..." type="text" v-model="filter">
                </div>
              </form>
            </div>
            <div class="card-body">

                <div class="table-responsive">
                    <b-table
                        :fields="teamFields"
                        :items="filteredTeams"
                        :current-page="pagination.currentPage"
                        :per-page="pagination.perPage"
                    >
                        <template v-slot:cell(acciones)="data">
                            <div class="dropdown">
                              <a class="actions-menu" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">

                              </a>
                              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <!-- ajustar href -->
                                <a class="dropdown-item" :href="'/reportes/equipos/' + data.item.team_id + '/miembros/'"> Miembros</a>
                              </div>
                            </div>
                        </template>
                    </b-table>

                    <b-pagination
                        v-model="pagination.currentPage"
                        :per-page="pagination.perPage"
                        :total-rows="filteredTeams.length"
                    ></b-pagination>
                </div>

            </div>
          </div>
        </div>
        <div class="col-md-5">
          <div class="card">
            <div class="card-header card-header-primary">
              <h4 class="card-title "> Información general </h4>
            </div>
            <div class="card-body">
              
              <table class="table table-hover">
                <thead>
                <tr>
                  <th>Categoría</th>
                  <th>Cantidad</th>
                </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Contextos</td>
                    <td>[[ datosGenerales.contextos ]]</td>
                  </tr>
                  <tr>
                    <td>Decisiones</td>
                    <td>[[ datosGenerales.decisiones ]]</td>
                  </tr>
                  <tr>
                    <td>Equipos</td>
                    <td>[[ datosGenerales.equipos ]]</td>
                  </tr>
                  <tr>
                    <td>Instrumentos</td>
                    <td>[[ datosGenerales.instrumentos ]]</td>
                  </tr>
                  <tr>
                    <td>Proyectos</td>
                    <td>[[ datosGenerales.proyectos ]]</td>
                  </tr>
                  <tr>
                    <td>Tareas</td>
                    <td>[[ datosGenerales.tareas ]]</td>
                  </tr>
                  <tr>
                    <td>Usuarios</td>
                    <td>[[ datosGenerales.usuarios ]]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </div>
      
      <!-- ajustar ids -->
      <div class="row">
        <div class="col-md-4">
          <div class="card">
            <div class="card-body">
              <canvas id="usuariosXgenero" height="400" width="400"></canvas>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card">
            <div class="card-body">
              <canvas id="usuariosXrol" width="400" height="400"></canvas>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card">
            <div class="card-body">
              <canvas id="usuariosXnivelE" width="400" height="400"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>

{% endblock %}